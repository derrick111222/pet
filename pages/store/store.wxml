<!--pages/store/store.wxml-->
<view class="container">
  <!-- 顶部搜索栏 -->
  <view class="search-bar">
    <view class="search-input-wrapper">
      <input class="search-input" placeholder="搜索商品" value="{{searchValue}}" bindinput="onSearchInput" confirm-type="search" bindconfirm="onSearch" />
      <icon class="search-icon" type="search" size="16"></icon>
    </view>
    <view class="cart-icon" bindtap="goToCart">
      <image src="https://img.icons8.com/ios/50/000000/shopping-cart.png" mode="aspectFit"></image>
      <view class="cart-badge" wx:if="{{cartCount > 0}}">{{cartCount}}</view>
    </view>
  </view>
  
  <!-- 分类标签 -->
  <view class="category-tabs">
    <scroll-view scroll-x="true" class="tabs-scroll">
      <view class="tabs-container">
        <view class="tab-item {{currentTab === index ? 'active' : ''}}" 
              wx:for="{{categories}}" 
              wx:key="*this" 
              data-index="{{index}}" 
              bindtap="switchTab">
          {{item}}
        </view>
      </view>
    </scroll-view>
  </view>
  
  <!-- 商品列表 -->
  <view class="product-list" wx:if="{{productList.length > 0}}">
    <view class="product-item" wx:for="{{productList}}" wx:key="id" bindtap="goToProductDetail" data-id="{{item.id}}">
      <image class="product-image" src="{{item.image}}" mode="aspectFill"></image>
      <view class="product-info">
        <view class="product-name">{{item.name}}</view>
        <view class="product-price">¥{{item.price}}</view>
        <view class="product-meta">
          <text class="product-sales">销量 {{item.sales}}</text>
          <text class="product-rating">评分 {{item.rating}}</text>
        </view>
        <view class="add-cart-btn" catchtap="addToCart" data-id="{{item.id}}">
          <image src="https://img.icons8.com/ios/50/000000/add-shopping-cart.png" mode="aspectFit"></image>
        </view>
      </view>
    </view>
  </view>
  
  <!-- 空状态 -->
  <view class="empty-state" wx:else>
    <image class="empty-image" src="https://img.freepik.com/free-vector/no-data-concept-illustration_114360-536.jpg" mode="aspectFit"></image>
    <text class="empty-text">暂无相关商品</text>
    <text class="empty-subtext">换个分类或搜索词试试吧</text>
  </view>
</view>